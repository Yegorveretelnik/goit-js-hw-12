{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"48893139-3f2b1b26814d6cd1a5eec55f2\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function fetchImages(query, page, perPage) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        page: page,\n        per_page: perPage,\n      },\n    });\n\n    return {\n      images: response.data.hits,\n      totalHits: response.data.totalHits,\n    };\n  } catch (error) {\n    console.error(\"–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω—å:\", error);\n    throw error;\n  }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function renderImages(images) {\n  \n  const markup = images\n    .map(\n      (img) => `\n        <a class=\"gallery-item\" href=\"${img.largeImageURL}\">\n          <img src=\"${img.webformatURL}\" alt=\"${img.tags.split(',')[0]}\" loading=\"lazy\"/>\n          <div class=\"info\">\n            <p>‚ù§Ô∏è ${img.likes} Likes</p>\n            <p>üëÅÔ∏è ${img.views} Views</p>\n            <p>üí¨ ${img.comments} Comments</p>\n            <p>‚¨áÔ∏è ${img.downloads} Downloads</p>\n          </div>\n        </a>\n      `\n    )\n    .join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n    new SimpleLightbox('.gallery a', {\n      captions: true,  \n      captionsData: 'alt',  \n      captionDelay: 250  \n    }).refresh();\n  }","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\"#search-form\");\nconst input = document.querySelector(\"#search-input\");\nconst loader = document.querySelector(\"#loader\");\nconst gallery = document.querySelector(\".gallery\");\nconst loadMoreBtn = document.querySelector(\"#load-more\");\n\nlet currentQuery = \"\";\nlet page = 1;\nconst perPage = 40;\nloadMoreBtn.style.display = \"none\";\n\nform.addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n  currentQuery = input.value.trim();\n  if (!currentQuery) {\n    iziToast.error({ title: \"–ü–æ–º–∏–ª–∫–∞\", message: \"–í–≤–µ–¥—ñ—Ç—å —Å–ª–æ–≤–æ –¥–ª—è –ø–æ—à—É–∫—É!\" });\n    return;\n  }\n  \n  page = 1;\n  gallery.innerHTML = \"\";\n  await loadImages();\n});\n\nloadMoreBtn.addEventListener(\"click\", async () => {\n  page++;\n  await loadImages();\n});\n\nasync function loadImages() {\n  loader.style.display = \"block\";\n  try {\n    const { images, totalHits } = await fetchImages(currentQuery, page, perPage);\n    if (images.length === 0) {\n      iziToast.warning({ message: \"No images found. Try another search.\" });\n      return;\n    }\n    renderImages(images);\n\n    if (page * perPage >= totalHits) {\n      loadMoreBtn.style.display = \"none\";\n      iziToast.info({ message: \"We're sorry, but you've reached the end of search results.\" });\n    } else {\n      loadMoreBtn.style.display = \"block\";\n    }\n    \n    smoothScroll();\n  } catch (error) {\n    iziToast.error({ title: \"Error\", message: \"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.\" });\n  } finally {\n    loader.style.display = \"none\"\n  }\n}\n\nfunction smoothScroll() {\n  const { height } = gallery.firstElementChild.getBoundingClientRect();\n  window.scrollBy({ top: height * 2, behavior: \"smooth\" });\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","response","axios","error","gallery","renderImages","images","markup","img","SimpleLightbox","form","input","loader","loadMoreBtn","currentQuery","event","iziToast","loadImages","totalHits","smoothScroll","height"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAMC,EAAS,CACtD,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAIN,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAUC,CACX,CACP,CAAK,EAED,MAAO,CACL,OAAQC,EAAS,KAAK,KACtB,UAAWA,EAAS,KAAK,SAC1B,CACF,OAAQE,EAAO,CACd,cAAQ,MAAM,sCAAuCA,CAAK,EACpDA,CACV,CACA,CCxBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAQ,CAEnC,MAAMC,EAASD,EACZ,IACEE,GAAQ;AAAA,wCACyBA,EAAI,aAAa;AAAA,sBACnCA,EAAI,YAAY,UAAUA,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA;AAAA,oBAElDA,EAAI,KAAK;AAAA,qBACRA,EAAI,KAAK;AAAA,oBACVA,EAAI,QAAQ;AAAA,oBACZA,EAAI,SAAS;AAAA;AAAA;AAAA,OAIjC,EACK,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,EAE5C,IAAIE,EAAe,aAAc,CAC/B,SAAU,GACV,aAAc,MACd,aAAc,GACf,CAAA,EAAE,QAAS,CAChB,CCzBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzCR,EAAU,SAAS,cAAc,UAAU,EAC3CS,EAAc,SAAS,cAAc,YAAY,EAEvD,IAAIC,EAAe,GACff,EAAO,EACX,MAAMC,EAAU,GAChBa,EAAY,MAAM,QAAU,OAE5BH,EAAK,iBAAiB,SAAU,MAAOK,GAAU,CAG/C,GAFAA,EAAM,eAAgB,EACtBD,EAAeH,EAAM,MAAM,KAAM,EAC7B,CAACG,EAAc,CACjBE,EAAS,MAAM,CAAE,MAAO,UAAW,QAAS,4BAA6B,EACzE,MACJ,CAEEjB,EAAO,EACPK,EAAQ,UAAY,GACpB,MAAMa,EAAY,CACpB,CAAC,EAEDJ,EAAY,iBAAiB,QAAS,SAAY,CAChDd,IACA,MAAMkB,EAAY,CACpB,CAAC,EAED,eAAeA,GAAa,CAC1BL,EAAO,MAAM,QAAU,QACvB,GAAI,CACF,KAAM,CAAE,OAAAN,EAAQ,UAAAY,CAAW,EAAG,MAAMrB,EAAYiB,EAAcf,EAAMC,CAAO,EAC3E,GAAIM,EAAO,SAAW,EAAG,CACvBU,EAAS,QAAQ,CAAE,QAAS,sCAAsC,CAAE,EACpE,MACN,CACIX,EAAaC,CAAM,EAEfP,EAAOC,GAAWkB,GACpBL,EAAY,MAAM,QAAU,OAC5BG,EAAS,KAAK,CAAE,QAAS,4DAA4D,CAAE,GAEvFH,EAAY,MAAM,QAAU,QAG9BM,EAAc,CACf,MAAe,CACdH,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,uDAAwD,CACtG,QAAY,CACRJ,EAAO,MAAM,QAAU,MAC3B,CACA,CAEA,SAASO,GAAe,CACtB,KAAM,CAAE,OAAAC,CAAQ,EAAGhB,EAAQ,kBAAkB,sBAAuB,EACpE,OAAO,SAAS,CAAE,IAAKgB,EAAS,EAAG,SAAU,SAAU,CACzD"}